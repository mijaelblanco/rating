
<!DOCTYPE html>
<html lang="es-MX">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1,
      shrink-to-fit=no">
    <meta name="robots" content="noindex, nofollow">

    <title>Inicio - Visor</title>
    <!-- Favicon -->
    <link rel="shortcut icon" type="image/x-icon"
      href="assets/img/logo/elhorizonte_favicon.png">

    <!-- bootstrap 5.1.0-->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">

    <!-- Main Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
      href="https://fonts.googleapis.com/css2?family=Titillium+Web:wght@400;600&display=swap"
      rel="stylesheet">

    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://npmcdn.com/flatpickr/dist/l10n/es.js"></script>
  </head>

  <body class="bg-azteca-azul">
    <header>
      <div class="container-fluid bg-azteca-morado">
        <div class="row">
          <div class="col-md-2 py-4 mx-auto">
            <img src="image/azteca-noreste-logo-web.png" class="img-fluid">
          </div>
        </div>
      </div>
    </header>


    <!-- BOTONES -->
    <section>
      <div class="container pt-5 d-flex justify-content-center">
        <div class="row">
          <div class="col-md-12">
            <div class="input-group text-center">
              <label for="arrive"><br></label>
              <input type="text" id="arrive">
              <button type="button" onclick="dateData()" class="btn btn-primary
                btn-lg btn-play-pause btn-play">BUSCAR</button>
            </div>
          </div>
          <br>
          <br>
          <br>
          <div class="col-md-12">
            <button class="btn btn-primary btn-lg btn-play-pause btn-play"
              onclick="playVid()" type="button">
              <i class="pe-2">
                <svg xmlns="http://www.w3.org/2000/svg" height="20" width="20"
                  viewBox="0 0 512 512"><path d="M73
                    39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4
                    33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2
                    23-41s-8.7-32.2-23-41L73 39z"/></svg>
                </i>Play</button>

              <button class="btn btn-primary btn-lg btn-play-pause btn-pause"
                onclick="pauseVid()" type="button">
                <i class="pe-2">
                  <svg xmlns="http://www.w3.org/2000/svg" height="20" width="20"
                    viewBox="0 0 512 512"><path d="M48 64C21.5 64 0 85.5 0
                      112V400c0 26.5 21.5 48 48 48H80c26.5 0 48-21.5
                      48-48V112c0-26.5-21.5-48-48-48H48zm192 0c-26.5 0-48
                      21.5-48 48V400c0 26.5 21.5 48 48 48h32c26.5 0 48-21.5
                      48-48V112c0-26.5-21.5-48-48-48H240z"/></svg>
                  </i>
                  Pause</button>

              </div>
            </div>

          </div>

        </section>

        <!-- VISORES -->
        <section>
          <div class="container-fluid py-4">
            <div class="row">
              <div class="col-md-12 text-center pt-4">
                <p class="h2 text-uppercase text-white">Rating</p>
              </div>
              <hr>
              <div class="col-md-4">
                <div class="mx-auto py-3">
                  <img src="image/raiting.png" class="img-fluid">
                </div>
                <div class="ratio ratio-16x9">
                  <video id="televisa" controls="">
                    <source src=""
                      type="video/mp4">
                  </video>
                </div>
                <div class="mx-auto py-3" style="max-width: 180px;">
                  <img src="image/televisa-monterrey-blanco.png"
                    class="img-fluid">
                </div>
              </div>
              <div class="col-md-4">
                <div class="mx-auto py-3">
                  <img src="image/raiting.png" class="img-fluid">
                </div>
                <div class="ratio ratio-16x9">
                  <video id="azteca" controls="">
                    <source src=""
                      type="video/mp4">
                  </video>
                </div>
                <div class="mx-auto py-3" style="max-width: 180px;">
                  <img src="image/logo-azteca-noreste-blanco-500x500.png"
                    class="img-fluid">
                </div>
              </div>
              <div class="col-md-4">
                <div class="mx-auto py-3">
                  <img src="image/raiting.png" class="img-fluid">
                </div>
                <div class="ratio ratio-16x9">
                  <video id="multimedios" controls="">
                    <source src=""
                      type="video/mp4">
                  </video>
                </div>
                <div class="mx-auto py-3" style="max-width: 180px;">
                  <img src="image/canal-6-blanco.png" class="img-fluid">
                </div>
              </div>
            </div>
          </div>
        </section>

        <script>
          var azteca = document.getElementById("azteca");
          var televisa = document.getElementById("televisa");
          var multimedios = document.getElementById("multimedios");
          
          function playVid() {
            azteca.play();
            televisa.play();
            multimedios.play();
          }
          
          function pauseVid() {
            azteca.pause();
            televisa.pause();
            multimedios.pause();
          }

          flatpickr("#arrive", {
            altInput: true,
            enableTime: true,
            dateFormat: "d-m-Y H",
            locale: "es"
          });

          function dateData() {
            // get date from fp
            const fp = document.getElementById("arrive").value;

            // convert date & time
            var date = fp.match(/(\d{1,2})\-(\d{1,2})\-(\d{4})/);
            var time = fp.slice(-2) + '0000';

            var televisa = document.getElementById('televisa');
            var azteca = document.getElementById('azteca');
            var multimedios = document.getElementById('multimedios');

            // set videos
            televisa.setAttribute('src', 'media/televisa/'+ date[3] + '/' + date[2] + '/' + date[1] + '/'+ time + '.MP4');
            televisa.setAttribute('type', 'video/mp4');

            azteca.setAttribute('src', 'media/tva/'+ date[3] + '/' + date[2] + '/' + date[1] + '/'+ time + '.MP4');
            azteca.setAttribute('type', 'video/mp4');

            multimedios.setAttribute('src', 'media/mm/'+ date[3] + '/' + date[2] + '/' + date[1] + '/'+ time + '.MP4');
            multimedios.setAttribute('type', 'video/mp4');
          }
          // remove minutes
          const fp = document.getElementById("arrive")._flatpickr;
          fp.minuteElement.style.display = "none";
        </script>
      </body>
    </html>
